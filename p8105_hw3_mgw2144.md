p8105_hw3_mgw2144
================
2023-10-11

``` r
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.3     ✔ readr     2.1.4
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.0
    ## ✔ ggplot2   3.4.3     ✔ tibble    3.2.1
    ## ✔ lubridate 1.9.2     ✔ tidyr     1.3.0
    ## ✔ purrr     1.0.2     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
library(ggridges)
library(patchwork)
library(p8105.datasets)

knitr::opts_chunk$set(
  fig.width = 8,
  fig.height = 6,
  out.width = "90%"
)

theme_set(theme_minimal()+theme(legend.position = "bottom"))

options(
  ggplot2.continuous.colour = "viridis",
  ggplot2.continuous.fill = ("viridis"))

scale_colour_discrete = scale_colour_viridis_d
scale_fill_discrete = scale_fill_viridis_d
```

## Problem 1

## Problem 2

``` r
data("brfss_smart2010")

brfss_smart2010_df = 
  brfss_smart2010 %>% 
  janitor::clean_names() %>% 
  rename(
    location_abbr = locationabbr,
    location_desc = locationdesc
  ) %>% 
  filter(topic == "Overall Health") %>% 
  filter(response == c("Excellent", "Very good", "Good", "Fair", "Poor")) %>% 
  mutate(
    response = factor(response, levels = c("Poor", "Fair", "Good", "Very good", "Excellent"), ordered = TRUE)) %>% 
  arrange(response)
```

Data was cleaned to re-format some variable names and clean the column
names, focus on the “Overall Health” topic, include only participants
whose answers ranged from “Excellent” to “Poor”, and so that the
responses were organized from “Poor” to “Excellent”.

### instructions

In 2002, which states were observed at 7 or more locations? What about
in 2010?

``` r
brfss_2002 = 
  brfss_smart2010_df %>% 
  filter(year == "2002") %>% 
  count(location_abbr) %>% 
  filter(n >= 7)

brfss_2010 = 
  brfss_smart2010_df %>% 
  filter(year == "2010")%>% 
  count(location_abbr) %>% 
  filter(n >= 7)
```

In 2002, 21 states were observed at 7 or more locations including: CT,
DE FL, ID, IL, IN, MA, MD, MI, NE, NH, NJ, NV, NY, OH, OK, PA, RI, SC,
UT, and WA.

In 2010, 38 states were observed at 7 or more locations including: AL,
AR, AZ, CA, CO, DE FL, ID, IN, KS, LA, MA, MD, ME, MI, MN, MO, MT, NC,
NE, NH, NJ, NM, NV, NY, OH, OK, OR, PA, RI, SC, SD, TN, TX, UT, VT, WA,
and WY.

#### instructions

Construct a dataset that is limited to Excellent responses, and
contains, year, state, and a variable that averages the data_value
across locations within a state. Make a “spaghetti” plot of this average
value over time within a state (that is, make a plot showing a line for
each state across years – the geom_line geometry and group aesthetic
will help).

Make a two-panel plot showing, for the years 2006, and 2010,
distribution of data_value for responses (“Poor” to “Excellent”) among
locations in NY State.
